<!DOCTYPE html>
<html><head><title>Wavy Border — Gentle vs Strong (v5)</title>
<style>
  body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 2rem; }
  .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; max-width: 900px; margin: 0 auto; }
  .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1.5rem; max-width: 1100px; margin: 0 auto; }
  .card { background: white; border-radius: 8px; padding: 1.5rem; text-align: center; }
  .card h3 { margin: 0 0 0.3rem; }
  .card p { color: #666; font-size: 0.8rem; margin: 0 0 1rem; }
  .card.hl { outline: 3px solid #2196F3; }
  .card.ref { outline: 3px solid #4CAF50; }
  svg { max-width: 100%; }
  h1 { text-align: center; margin-bottom: 0.3rem; }
  h2.sub { text-align: center; color: #666; font-weight: normal; font-size: 1rem; margin-bottom: 2rem; }
  .section { margin-bottom: 1rem; }
  .section h2 { text-align: left; color: #333; font-weight: bold; font-size: 1.1rem; border-bottom: 1px solid #ddd; padding-bottom: 0.5rem; margin-bottom: 1rem; }
</style>
<script>
var F = function(n) { return n.toFixed(1); };

function wavyBorder(x, y, w, h, scWidth, depth, color, strokeW) {
  var numH = Math.max(3, Math.round(w / scWidth));
  if (numH % 2 === 0) numH++;   // force ODD
  var segW = w / numH;
  var numV = Math.max(3, Math.round(h / segW));
  if (numV % 2 === 0) numV++;   // force ODD
  var segH = h / numV;
  var vD = depth * segH / segW;
  var d = 'M '+F(x)+','+F(y);
  for (var i=0;i<numH;i++){var fl=(i%2===0)?1:-1;var sx=x+i*segW;
    d+=' C '+F(sx+segW*.3)+','+F(y-fl*depth)+' '+F(sx+segW*.7)+','+F(y-fl*depth)+' '+F(sx+segW)+','+F(y);}
  for (var i=0;i<numV;i++){var fl=(i%2===0)?1:-1;var sy=y+i*segH;
    d+=' C '+F(x+w+fl*vD)+','+F(sy+segH*.3)+' '+F(x+w+fl*vD)+','+F(sy+segH*.7)+' '+F(x+w)+','+F(sy+segH);}
  for (var i=0;i<numH;i++){var fl=(i%2===0)?1:-1;var sx=x+w-i*segW;
    d+=' C '+F(sx-segW*.3)+','+F(y+h+fl*depth)+' '+F(sx-segW*.7)+','+F(y+h+fl*depth)+' '+F(sx-segW)+','+F(y+h);}
  for (var i=0;i<numV;i++){var fl=(i%2===0)?1:-1;var sy=y+h-i*segH;
    d+=' C '+F(x-fl*vD)+','+F(sy-segH*.3)+' '+F(x-fl*vD)+','+F(sy-segH*.7)+' '+F(x)+','+F(sy-segH);}
  d+=' Z';
  return '<path d="'+d+'" fill="none" stroke="'+color+'" stroke-width="'+strokeW+'" stroke-linejoin="round"/>';
}

function makeSvg(sc, dep, color, textColor, fill, sw) {
  var x=50,y=30,w=400,h=220;
  var pad=Math.max(dep,sw)+sw+5;
  var vb=(x-pad)+' '+(y-pad)+' '+(w+pad*2)+' '+(h+pad*2);
  var s='<svg viewBox="'+vb+'" xmlns="http://www.w3.org/2000/svg">';
  var border=wavyBorder(x,y,w,h,sc,dep,color,sw);
  if(fill) border=border.replace('fill="none"','fill="'+color+'"');
  s+=border;
  s+='<text x="'+(x+w/2)+'" y="'+(y+h*.62)+'" text-anchor="middle" font-family="Arial Black" font-size="70" fill="'+textColor+'">HELLO</text>';
  s+='</svg>';
  return s;
}

function renderAll(){
  /* ── Gentle candidates — same segment width, less depth ── */
  document.getElementById('g-a').innerHTML=makeSvg(35, 5, '#BE1E2D','#BE1E2D',false,20);
  document.getElementById('g-b').innerHTML=makeSvg(35, 7, '#BE1E2D','#BE1E2D',false,20);
  document.getElementById('g-c').innerHTML=makeSvg(35, 9, '#BE1E2D','#BE1E2D',false,20);

  /* ── Strong (locked) ── */
  document.getElementById('strong').innerHTML=makeSvg(35, 12, '#BE1E2D','#BE1E2D',false,20);

  /* ── Gentle candidates — smaller segments, less depth ── */
  document.getElementById('g-d').innerHTML=makeSvg(25, 5, '#BE1E2D','#BE1E2D',false,20);
  document.getElementById('g-e').innerHTML=makeSvg(25, 7, '#BE1E2D','#BE1E2D',false,20);
  document.getElementById('g-f').innerHTML=makeSvg(30, 6, '#BE1E2D','#BE1E2D',false,20);

  /* ── Side by side: best gentle candidates vs strong ── */
  document.getElementById('vs-g1').innerHTML=makeSvg(35, 7, '#000','#000',false,20);
  document.getElementById('vs-s').innerHTML=makeSvg(35, 12, '#000','#000',false,20);

  /* ── Filled ── */
  document.getElementById('f-g1').innerHTML=makeSvg(35, 7, '#BE1E2D','#FFF',true,20);
  document.getElementById('f-s').innerHTML=makeSvg(35, 12, '#BE1E2D','#FFF',true,20);
}
</script>
</head>
<body onload="renderAll()">
<h1>Wavy Border — Gentle vs Strong (v5)</h1>
<h2 class="sub">Strong is locked (sc=35, d=12). Pick a Gentle variant below.</h2>

<div class="section"><h2>Gentle Candidates — Same segment width (sc=35), reduced depth</h2></div>
<div class="grid-3">
  <div class="card"><h3>A: d=5</h3><p>Very subtle ripple</p><div id="g-a"></div></div>
  <div class="card hl"><h3>B: d=7</h3><p>Clear but gentle wave</p><div id="g-b"></div></div>
  <div class="card"><h3>C: d=9</h3><p>Noticeable wave</p><div id="g-c"></div></div>
</div>

<div class="section"><h2>Strong (locked) — sc=35, d=12</h2></div>
<div class="grid" style="max-width:450px;">
  <div class="card ref"><h3>STRONG</h3><p>sc=35, d=12 — approved</p><div id="strong"></div></div>
</div>

<div class="section"><h2>Gentle Candidates — Smaller segments (more arcs per edge)</h2></div>
<div class="grid-3">
  <div class="card"><h3>D: sc=25, d=5</h3><p>Many tiny waves</p><div id="g-d"></div></div>
  <div class="card"><h3>E: sc=25, d=7</h3><p>Many small waves</p><div id="g-e"></div></div>
  <div class="card"><h3>F: sc=30, d=6</h3><p>Medium count, subtle</p><div id="g-f"></div></div>
</div>

<div class="section"><h2>Side by Side — Gentle (B: sc=35, d=7) vs Strong (sc=35, d=12)</h2></div>
<div class="grid">
  <div class="card hl"><h3>Gentle</h3><p>sc=35, d=7</p><div id="vs-g1"></div></div>
  <div class="card ref"><h3>Strong</h3><p>sc=35, d=12</p><div id="vs-s"></div></div>
</div>

<div class="section"><h2>Filled</h2></div>
<div class="grid">
  <div class="card"><h3>Gentle filled</h3><p>sc=35, d=7</p><div id="f-g1"></div></div>
  <div class="card"><h3>Strong filled</h3><p>sc=35, d=12</p><div id="f-s"></div></div>
</div>

</body></html>
